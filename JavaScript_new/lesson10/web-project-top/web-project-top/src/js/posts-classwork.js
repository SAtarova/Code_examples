const postsList = [
    {
        id: 1,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2024',
        date: '18.03.2024',
        author: 'Misha'
    },
    {
        id: 2,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2023',
        date: '13.02.2023',
        author: 'Alex'
    },
    {
        id: 3,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2020',
        date: '15.03.2020',
        author: 'Alex'
    },
    {
        id: 4,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2019',
        date: '15.02.2019',
        author: 'Ivan'
    },
    {
        id: 5,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2019',
        date: '14.05.2019',
        author: 'Ivan'
    },
    {
        id: 6,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2021',
        date: '12.04.2021',
        author: 'Anna'
    },
    {
        id: 7,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2020',
        date: '20.03.2020',
        author: 'Anna'
    },
    {
        id: 8,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2024',
        date: '22.07.2024',
        author: 'Anna'
    },
    {
        id: 9,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2018',
        date: '20.01.2018',
        author: 'Ivan'
    },
    {
        id: 10,
        title: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur!',
        shortTitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum',
        body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque laboriosam officia, quod! ?',
        year: '2024',
        date: '13.07.2024',
        author: 'Alex'
    }
]

const postsListParent = document.querySelector('.blog-posts');

if (postsListParent) {
    console.log('Science news:')

    const dictOldestPost = postsList[0]
    const sOldestDate    = new Date(postsList[0].date)
    let dictAlex         = {}
    let sNewDate         = new Date()

    for (let i = 1; i < postsList.length; i++)
    {
        // Find oldest post
        sNewDate = new Date(postsList[i].date)

        if (sOldestDate > sNewDate)
        {
            sOldestDate    = sNewDate
            dictOldestPost = postsList[i]
        }

        // Find 'Alex'
        if (postsList[i].author == 'Alex')
        {
            dictAlex = postsList[i]
            //delete postsList[i]
        }
    }

    //postsList.unshift(dictOldestPost)
    //postsList.unshift(dictAlex)

    postsList
        .reduce((acc, item) => {
           
            if (!acc[item.id]) {
                acc[item.id] = []
                acc[item.id].unshift(dictOldestPost)
            }          

            if (acc[item.author == 'Alex']){
                acc[item.id].unshift(item)
            }
            else{
                acc[item.id].push(item)
            }            
            return acc;
        }, [])

        // Remove duplicates
        // TODO

        // Update id
        //.forEach((item, index) => {      
        //    item.id = index
        //})

        // Sort by id
        //.sort((item1, item2) => item1.id - item2.id)

        // Make tags for html
        .forEach(item => {
            console.log(item);

            let postItem = `
                <div class="card">
                    <a href="#" class="card__image-link"> <img src="./images/home-page/blog/blog-001.webp" alt="" class="card__image"> </a>
                    <div class="card__information">
                        <p class="card__title"
                           title="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit
                            amet, consectetur adipisicing elit. Rerum, tenetur! Lorem ipsum dolor sit amet, consectetur
                            adipisicing elit. Rerum, tenetur!</p>
                        <p class="card__description post__description">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aut
                            dicta distinctio dolorum eligendi enim, eum expedita facere fuga, fugiat, mollitia nesciunt
                            officiis omnis porro quasi quia quod vitae voluptates. Asperiores debitis earum eos explicabo
                            fuga laborum, neque officia quasi quo sit tenetur, voluptatibus? Ad atque blanditiis eaque
                            laboriosam officia, quod! ?</p>
                        <div class="post__info-block">
                            <div class="post__info-date">02.03.2024</div>
                            <a href="#" class="post__info-author">Ivan Ivanov</a>
                        </div>
                        <a href="/post.html" class="card__btn">Detail...</a>
                    </div>
                </div>`

        postsListParent.insertAdjacentHTML('beforeend', postItem)
        })
}