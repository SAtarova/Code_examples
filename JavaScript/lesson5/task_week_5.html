<!doctype html>
<html>
    <head>
    </head>

    <body>
        <script>  

            /* task1 */
            class Marker
            {
                constructor(sColor, nPercent)
                {
                    this.sColor   = sColor
                    this.nPercent = nPercent
                    console.log(this.sColor)
                }
                PrintString(sString)
                {
                    let nFullStringLen = sString.length
                    let nStringLen     = 0.5 * sString.replaceAll(' ', '').length                    

                    while(nStringLen < this.nPercent)
                    {                                           
                        console.log('%c' + sString, 'font-size: 3em; font-weight: bold; color: ' + this.sColor)
                        this.nPercent -= 0.5 * nStringLen 
                    }                   

                    console.log('%cMarker has not enough toner for you text, need to fill it!', 'color: red')
                }    
            }

            class FillMarker extends Marker
            {
                constructor(sColor, nPercent)
                {
                    super(sColor, nPercent)
                }
                NewFillMarker(sColor)
                {
                    this.nPercent = 100
                    this.sColor   = sColor   
                }
            }

            var nPercent = 100
            var sColor   = 'blue'
            var objFillMarker = new FillMarker(sColor, nPercent)
            objFillMarker.PrintString('I write by marker. Now we use ' + sColor + ' color.')
            var sNewColor = 'green'
            objFillMarker.NewFillMarker(sNewColor)
            objFillMarker.PrintString('I write by marker. Now we use ' + sNewColor + ' color.')

            /* task2 */
            class ExtendedDate extends Date
            {
                constructor(nYear, nMonth, nDay) 
                {
                    super()

                    // Get current date
                    this.objTodayDate= this.getTime()

                    // Redefine current with input date
                    let nInputYear  = this.setFullYear(nYear)
                    this.nInputYear  = this.getFullYear()
                    let nInputMonth = this.setMonth(nMonth)
                    this.nInputMonth = this.getMonth()
                    let nInputDay   = this.setDate(nDay)
                    this.nInputDay   = this.getDate()
                    this.objInputDate = this.getTime()
                }
                TextDayMonth()
                {
                    var dictMonthes = {1: 'January', 2: 'February', 3: 'Marth', 4: 'April', 5: 'May', 6: 'June', 
                    7: 'July', 8: 'August', 9: 'September', 10: 'Octouber', 11: 'November', 12: 'Desember'}
                    console.log(dictMonthes[this.nInputMonth])
                }
                CheckActualDate()
                {
                
                    let bCompareResult = this.objInputDate > this.objTodayDate
                    console.log(bCompareResult)
                }
                IncreaseDateOnOneDay()
                {
                    console.log(this.nInputDay + ' ' + this.nInputMonth)
                    let nNewDate = new Date()
                    console.log(nNewDate)
                    this.nInputDay = (this.nInputDay + 1)                    
                    console.log(this.nInputDay)
                }
                LeapYear()
                {
                    if ((this.nInputYear % 400 == 0) || (this.nInputYear % 4 == 0 && this.nInputYear % 100 != 0))
                        console.log("Entered year is a leap year"); 
                    else console.log("Entered year is not a leap year")
                }

            }

            objExtendedDate = new ExtendedDate(2024, 10, 23)
            objExtendedDate.CheckActualDate()
            objExtendedDate.IncreaseDateOnOneDay()
            objExtendedDate.LeapYear()
            objExtendedDate.TextDayMonth()

            /* task3 */
            class Employee
            {
                constructor(listEmployees)
                {
                    this.listEmployees = listEmployees
                }
                FillArray(sName)
                {
                    this.listEmployees.push(sName)
                }
                GetListEmployee()
                {
                    return this.listEmployees
                }
            }
            
            objEmployee = new Employee([])
            objEmployee.FillArray('jcdkcfl')
            objEmployee.FillArray('jfcjgp')
            objEmployee.FillArray('ghdsyf')
            objEmployee.FillArray('jghxfa')
            console.log(objEmployee.GetListEmployee())

            class EmpTable
            {
                constructor(objEmployee)
                {
                    this.objEmployee = objEmployee
                }
                getHtml()
                { 
                    let listTableEmployees = this.objEmployee.listEmployees
                    let sHtml = '<ul>\n'
                    for (let i = 0; i <listTableEmployees.length; i++)
                    {
                        sHtml += `\t<li>${listTableEmployees[i]}</li>\n`
                    }
                    sHtml += '</ul>'
                    console.log(sHtml)
                    return sHtml
                }
            }            

            objEmpTable = new EmpTable(objEmployee)
            objEmpTable.getHtml()

            /* task4 */
            class StyledEmpTable extends EmpTable
            {
                constructor(objEmpTable, listStyles)
                {
                    super(objEmpTable)
                    this.listStyles = listStyles
                }
                getStyles(listStyles)
                {
                    let sStyles = '<style>\n'
                    for (let i = 0; i < this.listStyles.length; i++)
                    {
                        sStyles += `${this.listStyles[i]}`
                    }
                    sStyles += '\n</style>\n'
                    return sStyles
                }
                getHtml()
                {
                    let sNewHtml = ''
                    sNewHtml = this.getStyles(this.listStyles)
                    sNewHtml += objEmpTable.getHtml()
                    console.log(sNewHtml)
                    return sNewHtml
                }
            }
            objStyledEmpTable = new StyledEmpTable(objEmpTable, '\tul li {margin: 0% 5% 0% 5%;\n\t\tpadding: 2%;\n\t\tfont-size: 30px;\n\t\tbackground-color: skyblue;\n\t\tlist-style-type: none;}')
            objStyledEmpTable.getHtml()

        </script>
    </body>
</html>